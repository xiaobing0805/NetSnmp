######################################################################
## Do the .h file
######################################################################
@eval $date=scalar localtime; @
@open ${name}.h@
/*
 * Note: this file originally auto-generated by mib2c using
 * mib2c.old-api-refactor.conf $date
 * zhangchunqiang 2014-10 $
 */
#ifndef $name.uc_H
#define $name.uc_H

/* !!! please fill the module path completely that we have developed !!!*/
#include "../public/public.h"

/*--define scalar magic number,easy enum*/
typedef enum
{
@eval $first = 0@
@foreach $i scalar@
  @if $first eq 0@
   $i.uc = 1,
   @eval $first = 1@
  @else@
   $i.uc,
   @eval $endid = $i.uc@   
  @end@
@end@
}E_scalar_${name}_magic;

/*--define table magic number*/
@eval $first = 0@
typedef enum
{
@foreach $j table@
  @foreach $c column@ 
   @if $first eq 0@
     $c.uc = 1,
     @eval $first = 1@
   @else@
     $c.uc, 
   @end@
  @end@  
@end@
}E_table_${name}_magic;


/* function declarations */
  void init_$name(void);
  FindVarMethod var_$name;
@foreach $i table@
  FindVarMethod var_${i};
@end@

/*one scalar write is ok*/
@eval $x = 0@
@foreach $i scalar@
    @if $i.settable@
	@eval $x = 1@
    @end@  
@end@
@if $x eq 1@
  WriteMethod write_${name}_scalar;
@end@


/* --table write */
@foreach $i table@
  @eval $x = table_is_writable($i)@
  @if $x eq 1@
  WriteMethod write_${i};
  @end@
@end@

/*if you have other special code,you can write here */

#endif /* $name.uc_H */
